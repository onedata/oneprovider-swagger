get:
  operationId: get_file_xattrs_by_id
  x-onedata-gri:
    type: op_file
    id: ?OBJECTID_BINDING(id)
    aspect: xattrs
  summary: Get file extended attributes by Id
  tags:
    - File
  x-bash-codegen-description: |
    This method returns the selected extended attributes associated with specified file, folder or space by Id.

  description: |
    This method returns the selected extended attributes associated with specified file, folder or space by Id.

    ***Example cURL requests***

    **Get extended file attributes**
    ```bash
    curl --tlsv1.2 -H "X-Auth-Token: $TOKEN" -X GET \
    "https://$HOST/api/v3/oneprovider/metadata-id/xattrs/$FILE_ID?extended=true&attribute=license"

    {
      "license": "CC-0"
    }
    ```
  produces:
    - application/json
  responses:
    '200':
      description: Returns the requested file extended attributes.
      schema:
        type: object
        additionalProperties:
          type: string
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: File not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
  - name: id
    in: path
    description: Id of the file.
    type: string
    required: true
  - name: attribute
    in: query
    description: Type of attribute to query for.
    type: string
    required: false
    enum:
      - mode
  - name: inherited
    in: query
    description: >
      When set to true, this operation will return all non-masking attributes
      from parent folders as well as entire space attributes. When the same attribute
      is set on multiple levels, the lowest level attribute value will be returned (e.g.
      attribute set on file will have precedence over attribute set on folder).
    type: boolean
    required: false
  x-code-samples:
  - lang: Shell
    source: "oneprovider-rest-cli getFileXattrsById id=$FILE_ID"


put:
  operationId: set_file_xattr_by_id
  x-onedata-parse_body: as_is
  x-onedata-gri:
    type: op_file
    id: ?OBJECTID_BINDING(id)
    aspect: xattrs
  summary: Set file extended attribute by Id
  tags:
    - File
  x-bash-codegen-description: |
    This method allows to set a value of a specified extended file attribute
    leaving other ones intact.

  description: |
    This method allows to set a value of a specified extended file attribute
    leaving other ones intact.

    ***Example cURL requests***

    **Set extended file attribute**
    ```bash
    curl --tlsv1.2 -X PUT -H "X-Auth-Token: $TOKEN" \
    -H 'Content-type: application/json' -d '{ "license": "CC-0" }' \
    "https://$HOST/api/v3/oneprovider/metadata-id/xattrs/$FILE_ID?extended=true"
    ```
  consumes:
    - application/json
  responses:
    '204':
      description: File extended attributes updated successfuly.
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: File not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
  - name: id
    in: path
    description: Id of the file.
    type: string
    required: true
  - name: attribute
    in: body
    description: Extended attribute name and value.
    schema:
      type: object
      additionalProperties:
        type: string
  x-code-samples:
  - lang: Shell
    source: "oneprovider-rest-cli setFileXattrById id=$FILE_ID license==CC-0"
