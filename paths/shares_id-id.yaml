get:
  operationId: get_share_by_id
  x-onedata-gri:
    type: op_share
    id: ?OBJECTID_BINDING(id)
    aspect: instance
  summary: Get share info by folder id
  tags:
    - Share
  x-bash-codegen-description: |
    Returns the basic information about shared folder specified by ID.
  description: |
    Returns the basic information about shared folder specified by ID.

    ***Example cURL requests***

    **Returns the basic information about shared folder specified by ID**
    ```bash
    curl --tlsv1.2 -X GET -H "X-Auth-Token: $TOKEN" \
    "https://$HOST/api/v3/oneprovider/shares-id/000000000046761E6775696423333\
    9643236366165646365626666616435393966376137373431323536316634233665633161\
    353431336236663465326230316135633835613866643739376532"

    {
      "shareId": "1f4b762b1380946e73aeca574c77f14c",
      "name": "MyNewShare",
      "publicUrl": "https://onedata.org/shares/1f4b762b1380946e73aeca574c77f14c",
      "rootFileId": "00000000006CB663736861726547756964233339643236366165646365\
      6266666164353939663761373734313235363166342336656331613534313362366634653\
      2623031613563383561386664373937653223316634623736326231333830393436653733\
      6165636135373463373766313463",
      "spaceId": "6ec1a5413b6f4e2b01a5c85a8fd797e2",
      "handleId" "doi:10.15911/MyShares.726855"
    }
    ```
  produces:
    - application/json
  responses:
    '200':
      description: The share information.
      schema:
        $ref: '#/definitions/Share'
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: File or share not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
    - name: id
      in: path
      description: >
        Id of the folder to share (e.g. '000000000046761E677569642333396432363
        6616564636562666661643539396637613737343132353631663423366563316135343
        1336236663465326230316135633835613866643739376532').
        Can be the root space folder.
      type: string
      required: true
  x-code-samples:
    - lang: Shell
      source: >
        "oneprovider-rest-cli getShareById \
        id='000000000046761E67756964233339643236366165646365626666616435393966376\
        1373734313235363166342336656331613534313362366634653262303161356338356138\
        66643739376532'"


post:
  operationId: create_share_by_id
  x-onedata-parse_body: as_json_params
  x-onedata-gri:
    type: op_share
    id: ?OBJECTID_BINDING(id)
    aspect: instance
  summary: Share a folder by ID
  tags:
    - Share
  x-bash-codegen-description: |
    Shares a folder specified by ID. Shared folder can be viewed by everyone
    through public URL. This operation assigns a public share ID that can be
    used to manage share, see:
      * [Get basic information about shared folder](#operation/get_share_by_public_id)
      * [Change name of the shared folder](#operation/update_share_name_by_public_id)
      * [Unshare folder](#operation/remove_share_by_public_id)

    Returns 400 if path points to a regular file.

  description: |
    Shares a folder specified by ID. Shared folder can be viewed by everyone
    through public URL. This operation assigns a public share ID that can be
    used to manage share, see:
      * [Get basic information about shared folder](#operation/get_share_by_public_id)
      * [Change name of the shared folder](#operation/update_share_name_by_public_id)
      * [Unshare folder](#operation/remove_share_by_public_id)

    Returns 400 if path points to a regular file.

    ***Example cURL requests***

    **Shares a folder specified by ID**
    ```bash
    curl --tlsv1.2 -H "X-Auth-Token: $TOKEN" -X POST \
    -H "Content-type: application/json" \
    -d '{ "name": "MyShare" }' \
    "https://$HOST/api/v3/oneprovider/shares-id/000000000046761E6775696423333\
    9643236366165646365626666616435393966376137373431323536316634233665633161\
    353431336236663465326230316135633835613866643739376532"
    ```
  consumes:
    - application/json
  responses:
    '200':
      description: ID of the created share (public share ID)
      schema:
        type: string
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: File not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
    - name: id
      in: path
      description: >
        Id of the folder to share (e.g. '000000000046761E677569642333396432363
        6616564636562666661643539396637613737343132353631663423366563316135343
        1336236663465326230316135633835613866643739376532').
        Can be the root space folder.
      type: string
      required: true
    - name: name
      in: body
      description: Share name.
      schema:
        type: string
      required: true
  x-code-samples:
    - lang: Shell
      source: >
        "oneprovider-rest-cli createShareById \
        id='000000000046761E67756964233339643236366165646365626666616435393966376\
        1373734313235363166342336656331613534313362366634653262303161356338356138\
        66643739376532' MyShare"


patch:
  operationId: update_share_name_by_id
  x-onedata-parse_body: as_json_params
  x-onedata-gri:
    type: op_share
    id: ?OBJECTID_BINDING(id)
    aspect: instance
  summary: Rename share by folder id
  tags:
    - Share
  x-bash-codegen-description: |
    Changes name of the shared folder specified by ID.
  description: |
    Changes name of the shared folder specified by ID.

    ***Example cURL requests***

    **Changes name of the shared folder specified by ID**
    ```bash
    curl --tlsv1.2 -H "X-Auth-Token: $TOKEN" -X PATCH \
    -H "Content-type: application/json" \
    -d '{ "name": "NewShareName" }' \
    "https://$HOST/api/v3/oneprovider/shares-id/000000000046761E6775696423333\
    9643236366165646365626666616435393966376137373431323536316634233665633161\
    353431336236663465326230316135633835613866643739376532"
    ```
  consumes:
    - application/json
  responses:
    '200':
      description: Share's name has been changed.
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: File not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
    - name: id
      in: path
      description: >
        Id of the folder to share (e.g. '000000000046761E677569642333396432363
        6616564636562666661643539396637613737343132353631663423366563316135343
        1336236663465326230316135633835613866643739376532').
        Can be the root space folder.
      type: string
      required: true
    - name: name
      in: body
      description: New name for the share.
      schema:
        type: string
      required: true
  x-code-samples:
    - lang: Shell
      source: >
        "oneprovider-rest-cli updateShareNameById \
        id='000000000046761E67756964233339643236366165646365626666616435393966376\
        1373734313235363166342336656331613534313362366634653262303161356338356138\
        66643739376532' NewShareName"


delete:
  operationId: remove_share_by_id
  x-onedata-gri:
    type: op_share
    id: ?OBJECTID_BINDING(id)
    aspect: instance
  summary: Unshare a folder by ID
  tags:
    - Share
  x-bash-codegen-description: |
    Unshares a folder by ID. This operation will not remove data from folder
    but data will not be accessible through public url anymore.
  description: |
    Unshares a folder by ID. This operation will not remove data from folder
    but data will not be accessible through public url anymore.

    ***Example cURL requests***

    **Unshares a folder by ID**
    ```bash
    curl --tlsv1.2 -X DELETE -H "X-Auth-Token: $TOKEN" \
    "https://$HOST/api/v3/oneprovider/shares-id/000000000046761E6775696423333\
    9643236366165646365626666616435393966376137373431323536316634233665633161\
    353431336236663465326230316135633835613866643739376532"
    ```
  responses:
    '204':
      description: Folder has been unshared.
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: File or share not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
    - name: id
      in: path
      description: >
        Id of the folder to share (e.g. '000000000046761E677569642333396432363
        6616564636562666661643539396637613737343132353631663423366563316135343
        1336236663465326230316135633835613866643739376532').
        Can be the root space folder.
      type: string
      required: true
  x-code-samples:
    - lang: Shell
      source: >
        "oneprovider-rest-cli removeShareById \
        id='000000000046761E67756964233339643236366165646365626666616435393966376\
        1373734313235363166342336656331613534313362366634653262303161356338356138\
        66643739376532'"
