get:
  operationId: get_space_indices
  x-onedata-gri:
    type: op_space
    id: ?BINDING(sid)
    aspect: indices
  tags:
    - Space
  summary: Get all space indices
  x-bash-codegen-description: |
    Returns the list of all index names in a space.
    The list is broken down into pages, each with length less or equal to the
    limit parameter. If the nextPageToken is present in the response, there are
    more names to list - provide the token in the page_token parameter in
    the following request.

    This operation requires `space_view_indices` privilege.
  description: |
    Returns the list of all index names in a space.
    The list is broken down into pages, each with length less or equal to the
    limit parameter. If the nextPageToken is present in the response, there are
    more names to list - provide the token in the page_token parameter in
    the following request.

    This operation requires `space_view_indices` privilege.

    ***Example cURL requests***

    **List at most 3 index names starting from page id 757136151113c2f**
    ```bash
    curl --tlsv1.2 -X GET -H "X-Auth-Token: $TOKEN" \
    "https://$HOST/api/v3/oneprovider/spaces/$SPACE_ID/indices?limit=3&page_token=757136151113c2f"

    {
      "indices": [
        "index1",
        "index11",
        "index111"
      ],
      "indexes": [
        "index1",
        "index11",
        "index111"
      ],
      "nextPageToken": "index1111"
    }
    ```
  produces:
    - application/json
  responses:
    '200':
      description: The list of index names, nextPageToken is present when there is more to list.
      schema:
        $ref: '#/definitions/Indices'
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Forbidden request.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: Oneprovider REST API not available.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server error.
      schema:
        $ref: '#/definitions/Error'
  parameters:
  - name: sid
    in: path
    description: >
      Space ID in which to list indices.
    type: string
    required: true
  - name: limit
    in: query
    description: >
      Allows to limit the number of returned indices.
    type: integer
    required: false
  - name: page_token
    in: query
    description: >
      Allows to start the listing from a certain point, identified by the page token.
    type: string
    required: false
  x-code-samples:
  - lang: Shell
    source: "oneprovider-rest-cli sid=$SPACE_ID getSpaceIndices limit=20 page_token=757136151113c2f"
